<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.1.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha256-yIDrPSXHZdOZhAqiBP7CKzIwMQmRCJ8UeB8Jo17YC4o=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"liulixiang1988.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.19.1","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":null,"activeClass":"gitalk"},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="0. Kotlin简介0.1 简介0.2 Kotlin安装0.3 Hello, Kotlin1234fun main(args:Array&lt;String&gt;)&#123;    println(&quot;Hello, Kotlin!&quot;)&#125;  1. 类型和变量1.1 变量声明(Variable Declarations)1234567891011121314151617181920212">
<meta property="og:type" content="article">
<meta property="og:title" content="Kotlin学习笔记">
<meta property="og:url" content="https://liulixiang1988.github.io/2016/03/01/kotlin-kotlin%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="一步一步">
<meta property="og:description" content="0. Kotlin简介0.1 简介0.2 Kotlin安装0.3 Hello, Kotlin1234fun main(args:Array&lt;String&gt;)&#123;    println(&quot;Hello, Kotlin!&quot;)&#125;  1. 类型和变量1.1 变量声明(Variable Declarations)1234567891011121314151617181920212">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2016-03-01T14:30:00.000Z">
<meta property="article:modified_time" content="2020-06-27T15:07:38.674Z">
<meta property="article:author" content="Liu Lixiang">
<meta property="article:tag" content="Kotlin,学习笔记">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://liulixiang1988.github.io/2016/03/01/kotlin-kotlin%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://liulixiang1988.github.io/2016/03/01/kotlin-kotlin%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","path":"2016/03/01/kotlin-kotlin学习笔记/","title":"Kotlin学习笔记"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Kotlin学习笔记 | 一步一步</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="一步一步" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">一步一步</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">42</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">15</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">69</span></a></li><li class="menu-item menu-item-commonweal"><a href="/404.html" rel="section"><i class="fa fa-heartbeat fa-fw"></i>Commonweal 404</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#0-Kotlin%E7%AE%80%E4%BB%8B"><span class="nav-number">1.</span> <span class="nav-text">0. Kotlin简介</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#0-1-%E7%AE%80%E4%BB%8B"><span class="nav-number">1.1.</span> <span class="nav-text">0.1 简介</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#0-2-Kotlin%E5%AE%89%E8%A3%85"><span class="nav-number">1.2.</span> <span class="nav-text">0.2 Kotlin安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#0-3-Hello-Kotlin"><span class="nav-number">1.3.</span> <span class="nav-text">0.3 Hello, Kotlin</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%8F%98%E9%87%8F"><span class="nav-number">2.</span> <span class="nav-text">1. 类型和变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E-Variable-Declarations"><span class="nav-number">2.1.</span> <span class="nav-text">1.1 变量声明(Variable Declarations)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-%E7%B1%BB%E5%9E%8B%E6%8E%A8%E5%AF%BC-Type-Deduction"><span class="nav-number">2.2.</span> <span class="nav-text">1.2 类型推导(Type Deduction)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-Ranges"><span class="nav-number">2.3.</span> <span class="nav-text">1.3 Ranges</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-%E6%95%B0%E7%BB%84"><span class="nav-number">2.4.</span> <span class="nav-text">1.4 数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-Strings-and-String-Interpolation"><span class="nav-number">2.5.</span> <span class="nav-text">1.5 Strings and String Interpolation</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E6%8E%A7%E5%88%B6%E6%B5%81"><span class="nav-number">3.</span> <span class="nav-text">2. 控制流</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-Nullability"><span class="nav-number">3.1.</span> <span class="nav-text">2.1 Nullability</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-If-%E8%AF%AD%E5%8F%A5"><span class="nav-number">3.2.</span> <span class="nav-text">2.2 If 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-%E6%A0%B9%E6%8D%AE%E5%BE%AA%E7%8E%AF%E8%87%AA%E5%8A%A8%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2-Flow-Based-Typing"><span class="nav-number">3.3.</span> <span class="nav-text">2.3 根据循环自动类型转换(Flow-Based Typing)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-for%E9%81%8D%E5%8E%86-for-Iteration"><span class="nav-number">3.4.</span> <span class="nav-text">2.4 for遍历(for Iteration)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-when%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">3.5.</span> <span class="nav-text">2.5 when表达式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E5%87%BD%E6%95%B0"><span class="nav-number">4.</span> <span class="nav-text">3. 函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-%E9%A1%B6%E5%B1%82%E5%87%BD%E6%95%B0-Top-Level-Function"><span class="nav-number">4.1.</span> <span class="nav-text">3.1 顶层函数(Top-Level Function)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-%E8%BF%94%E5%9B%9E%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%8F%82%E6%95%B0-Return-Types-and-Arguments"><span class="nav-number">4.2.</span> <span class="nav-text">3.2 返回类型和参数(Return Types and Arguments)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-%E5%8F%AF%E5%8F%98%E9%95%BF%E5%8F%82%E6%95%B0%E5%87%BD%E6%95%B0-Variable-Argument-Functions"><span class="nav-number">4.3.</span> <span class="nav-text">3.3 可变长参数函数(Variable-Argument Functions)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-%E5%86%85%E7%AD%BE%E5%87%BD%E6%95%B0-Local-a-k-a-Nested-or-Inner-Functions"><span class="nav-number">4.4.</span> <span class="nav-text">3.4 内签函数(Local a.k.a. Nested or Inner Functions)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-%E6%89%A9%E5%B1%95%E5%87%BD%E6%95%B0%E5%92%8C%E6%89%A9%E5%B1%95%E5%B1%9E%E6%80%A7-Extension-Functions-and-Properties"><span class="nav-number">4.5.</span> <span class="nav-text">3.5 扩展函数和扩展属性(Extension Functions and Properties)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6-%E4%B8%AD%E7%BC%80%E5%87%BD%E6%95%B0-Infix-Functions"><span class="nav-number">4.6.</span> <span class="nav-text">3.6 中缀函数(Infix Functions)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Lambda%E5%87%BD%E6%95%B0"><span class="nav-number">5.</span> <span class="nav-text">4 Lambda函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-Lambda%E5%87%BD%E6%95%B0"><span class="nav-number">5.1.</span> <span class="nav-text">4.1 Lambda函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0"><span class="nav-number">5.2.</span> <span class="nav-text">4.2 高阶函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-%E5%B8%A6%E6%8E%A5%E5%8F%97%E8%80%85%E7%9A%84%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="nav-number">5.3.</span> <span class="nav-text">4.3 带接受者的函数类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-4-Functors"><span class="nav-number">5.4.</span> <span class="nav-text">4.4 Functors</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E7%B1%BB"><span class="nav-number">6.</span> <span class="nav-text">5 类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-%E5%B1%9E%E6%80%A7-property"><span class="nav-number">6.1.</span> <span class="nav-text">5.1 属性(property)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-number">6.2.</span> <span class="nav-text">5.2 构造函数和初始化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-%E5%A7%94%E6%89%98%E5%B1%9E%E6%80%A7-Delegated-Properties"><span class="nav-number">6.3.</span> <span class="nav-text">5.3 委托属性(Delegated Properties)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-4-%E6%95%B0%E6%8D%AE%E7%B1%BB-Data-Classes"><span class="nav-number">6.4.</span> <span class="nav-text">5.4 数据类(Data Classes)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-5-%E5%8D%95%E4%BE%8B-Singleton"><span class="nav-number">6.5.</span> <span class="nav-text">5.5 单例(Singleton)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-6-%E4%BC%B4%E9%9A%8F%E5%AF%B9%E8%B1%A1-Companion-Objects"><span class="nav-number">6.6.</span> <span class="nav-text">5.6 伴随对象(Companion Objects)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-7-%E7%BB%A7%E6%89%BF-Inheritance"><span class="nav-number">6.7.</span> <span class="nav-text">5.7 继承(Inheritance)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-8-%E6%8E%A5%E5%8F%A3-Interfaces"><span class="nav-number">6.8.</span> <span class="nav-text">5.8 接口(Interfaces)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-9-%E7%B1%BB%E5%A7%94%E6%89%98-Class-Delegation"><span class="nav-number">6.9.</span> <span class="nav-text">5.9 类委托(Class Delegation)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-%E5%85%B6%E4%BB%96"><span class="nav-number">7.</span> <span class="nav-text">6 其他</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-%E6%9E%9A%E4%B8%BE-Enumerations"><span class="nav-number">7.1.</span> <span class="nav-text">6.1 枚举(Enumerations)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-2-%E5%BC%82%E5%B8%B8-Exceptions"><span class="nav-number">7.2.</span> <span class="nav-text">6.2 异常(Exceptions)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-3-%E6%93%8D%E4%BD%9C%E7%AC%A6%E9%87%8D%E8%BD%BD-Operator-Overloads"><span class="nav-number">7.3.</span> <span class="nav-text">6.3 操作符重载(Operator Overloads)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-4-Type-Safe-Builders"><span class="nav-number">7.4.</span> <span class="nav-text">6.4 Type-Safe Builders</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Liu Lixiang"
      src="/images/avatar.jpeg">
  <p class="site-author-name" itemprop="name">Liu Lixiang</p>
  <div class="site-description" itemprop="description">云天收夏色，木叶动秋声</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">69</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">42</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/liulixiang1988" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;liulixiang1988" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:liulixiang1988@gmail.com" title="E-Mail → mailto:liulixiang1988@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/liulixiang1988" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;liulixiang1988" rel="noopener me" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/liulixiang1988" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;liulixiang1988" rel="noopener me" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.douban.com/people/liulixiang/" title="豆瓣 → https:&#x2F;&#x2F;www.douban.com&#x2F;people&#x2F;liulixiang&#x2F;" rel="noopener me" target="_blank"><i class="fa-custom douban fa-fw"></i>豆瓣</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/liulixiang1988" title="知乎 → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;liulixiang1988" rel="noopener me" target="_blank"><i class="fa-custom zhihu fa-fw"></i>知乎</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://liulixiang1988.github.io/2016/03/01/kotlin-kotlin%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="Liu Lixiang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一步一步">
      <meta itemprop="description" content="云天收夏色，木叶动秋声">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Kotlin学习笔记 | 一步一步">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Kotlin学习笔记
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2016-03-01 22:30:00" itemprop="dateCreated datePublished" datetime="2016-03-01T22:30:00+08:00">2016-03-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2020-06-27 23:07:38" itemprop="dateModified" datetime="2020-06-27T23:07:38+08:00">2020-06-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h2 id="0-Kotlin简介"><a href="#0-Kotlin简介" class="headerlink" title="0. Kotlin简介"></a>0. Kotlin简介</h2><h3 id="0-1-简介"><a href="#0-1-简介" class="headerlink" title="0.1 简介"></a>0.1 简介</h3><h3 id="0-2-Kotlin安装"><a href="#0-2-Kotlin安装" class="headerlink" title="0.2 Kotlin安装"></a>0.2 Kotlin安装</h3><h3 id="0-3-Hello-Kotlin"><a href="#0-3-Hello-Kotlin" class="headerlink" title="0.3 Hello, Kotlin"></a>0.3 Hello, Kotlin</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args:<span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span></span><br><span class="line">&#123;</span><br><span class="line">    println(<span class="string">"Hello, Kotlin!"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1-类型和变量"><a href="#1-类型和变量" class="headerlink" title="1. 类型和变量"></a>1. 类型和变量</h2><h3 id="1-1-变量声明-Variable-Declarations"><a href="#1-1-变量声明-Variable-Declarations" class="headerlink" title="1.1 变量声明(Variable Declarations)"></a>1.1 变量声明(Variable Declarations)</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    val_declarations()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">val_declarations</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//val声明的变量不能更改</span></span><br><span class="line">    <span class="keyword">val</span> a:<span class="built_in">Int</span> = <span class="number">64</span></span><br><span class="line">    <span class="keyword">val</span> b:<span class="built_in">Long</span> = <span class="number">123</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//这种事不行的,必须每个占一行:</span></span><br><span class="line">    <span class="comment">//val c = 3, d = 4</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> c:<span class="built_in">Float</span> = <span class="number">3.4f</span> <span class="comment">//后面跟'F'或者'f'</span></span><br><span class="line">    <span class="keyword">val</span> d:<span class="built_in">Double</span> = <span class="number">3.4</span></span><br><span class="line">    <span class="keyword">val</span> e:<span class="built_in">Double</span> = <span class="number">12.3e5</span></span><br><span class="line">    <span class="comment">//不赋值的val声明</span></span><br><span class="line">    <span class="keyword">val</span> f: <span class="built_in">Int</span></span><br><span class="line">    f = <span class="number">13</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> g:StringBuffer = StringBuffer(<span class="string">"test"</span>)</span><br><span class="line">    g.replace(<span class="number">0</span>, <span class="number">1</span>, <span class="string">"T"</span>)</span><br><span class="line">    <span class="comment">//打印</span></span><br><span class="line">    println(<span class="string">"<span class="variable">$a</span> <span class="variable">$b</span> <span class="variable">$c</span> <span class="variable">$d</span> <span class="variable">$e</span> <span class="variable">$f</span>"</span>)</span><br><span class="line">    println(<span class="string">"<span class="variable">$g</span>"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//可更改的变量</span></span><br><span class="line">    <span class="keyword">var</span> h:<span class="built_in">Int</span> = <span class="number">123</span></span><br><span class="line">    h = <span class="number">45</span></span><br><span class="line">    println(<span class="string">"<span class="variable">$h</span>"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-2-类型推导-Type-Deduction"><a href="#1-2-类型推导-Type-Deduction" class="headerlink" title="1.2 类型推导(Type Deduction)"></a>1.2 类型推导(Type Deduction)</h3><p>类型能够根据赋值进行推到</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    val_declarations()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">val_declarations</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//val声明的变量不能更改</span></span><br><span class="line">    <span class="keyword">val</span> a = <span class="number">64</span></span><br><span class="line">    <span class="keyword">val</span> b= <span class="number">123</span></span><br><span class="line">    <span class="keyword">val</span> c = <span class="number">3.4f</span> <span class="comment">//后面跟'F'或者'f'</span></span><br><span class="line">    <span class="keyword">val</span> d = <span class="number">3.4</span></span><br><span class="line">    <span class="keyword">val</span> e = <span class="number">12.3e5</span></span><br><span class="line">    <span class="comment">//不赋值的val声明，变量类型不能省略</span></span><br><span class="line">    <span class="keyword">val</span> f: <span class="built_in">Int</span></span><br><span class="line">    f = <span class="number">13</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> g = StringBuffer(<span class="string">"test"</span>)</span><br><span class="line">    g.replace(<span class="number">0</span>, <span class="number">1</span>, <span class="string">"T"</span>)</span><br><span class="line">    <span class="comment">//打印</span></span><br><span class="line">    println(<span class="string">"<span class="variable">$a</span> <span class="variable">$b</span> <span class="variable">$c</span> <span class="variable">$d</span> <span class="variable">$e</span> <span class="variable">$f</span>"</span>)</span><br><span class="line">    println(<span class="string">"<span class="variable">$g</span>"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//可更改的变量</span></span><br><span class="line">    <span class="keyword">var</span> h = <span class="number">123</span></span><br><span class="line">    h = <span class="number">45</span></span><br><span class="line">    println(<span class="string">"<span class="variable">$h</span>"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-3-Ranges"><a href="#1-3-Ranges" class="headerlink" title="1.3 Ranges"></a>1.3 Ranges</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by liulixiang on 16/2/26.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    ranges()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">ranges</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">val</span> a: IntRange = <span class="number">1</span>..<span class="number">10</span> <span class="comment">//闭区间,而不是左闭右开. 1, 2, ..., 10(含10)</span></span><br><span class="line">    <span class="comment">//遍历range,使用in语法</span></span><br><span class="line">    <span class="keyword">for</span> (x <span class="keyword">in</span> a) println(x)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//除了上面的声明方式,还有以下声明方式:</span></span><br><span class="line">    <span class="keyword">val</span> b = <span class="number">1</span>.rangeTo(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">"=====逆序====="</span>)</span><br><span class="line">    <span class="keyword">val</span> c:IntProgression = b.reversed()</span><br><span class="line">    <span class="keyword">for</span>(x <span class="keyword">in</span> c) println(x)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">"=====range求和====="</span>)</span><br><span class="line">    println(<span class="string">"sum of ints <span class="variable">$c</span> = <span class="subst">$&#123;c.sum()&#125;</span>"</span>)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">"=====递减的range====="</span>)</span><br><span class="line">    <span class="keyword">val</span> d = <span class="number">10</span>.downTo(<span class="number">1</span>) <span class="comment">//不能用10..1</span></span><br><span class="line">    <span class="keyword">for</span>(x <span class="keyword">in</span> d) println(x)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">"=====省略括号======"</span>)</span><br><span class="line">    <span class="keyword">val</span> e = <span class="number">10</span> downTo <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span>(x <span class="keyword">in</span> e) println(x)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">"=====根据变量声明range======"</span>)</span><br><span class="line">    <span class="keyword">val</span> m = <span class="number">8</span></span><br><span class="line">    <span class="keyword">val</span> n = -<span class="number">3</span></span><br><span class="line">    <span class="keyword">val</span> f = IntRange(Math.min(m, n), Math.max(m, n))</span><br><span class="line">    <span class="keyword">for</span>(x <span class="keyword">in</span> f) println(x)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">"=====指定步长======"</span>)</span><br><span class="line">    <span class="keyword">val</span> g = <span class="number">100</span> downTo <span class="number">1</span> step <span class="number">3</span></span><br><span class="line">    <span class="keyword">for</span>(x <span class="keyword">in</span> g) print(<span class="string">"<span class="variable">$x</span>\t"</span>)</span><br><span class="line">    println()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-4-数组"><a href="#1-4-数组" class="headerlink" title="1.4 数组"></a>1.4 数组</h3><h3 id="1-5-Strings-and-String-Interpolation"><a href="#1-5-Strings-and-String-Interpolation" class="headerlink" title="1.5 Strings and String Interpolation"></a>1.5 Strings and String Interpolation</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    characters_and_strings()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">characters_and_strings</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">//字符</span></span><br><span class="line">    println(<span class="string">"=====字符====="</span>)</span><br><span class="line">    <span class="keyword">val</span> a:<span class="built_in">Char</span> = <span class="string">'\u0041'</span></span><br><span class="line">    <span class="keyword">if</span> (a.toInt() == <span class="number">65</span>)&#123;</span><br><span class="line">        println(<span class="string">"match"</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//字符串</span></span><br><span class="line">    println(<span class="string">"=====字符====="</span>)</span><br><span class="line">    <span class="keyword">val</span> b:String = <span class="string">"Hello"</span></span><br><span class="line">    println(b)</span><br><span class="line">    println(<span class="string">"取字符串中的字符:<span class="subst">$&#123;b[<span class="number">0</span>]&#125;</span>"</span>)</span><br><span class="line">    println(<span class="string">"遍历字符串中的字符:"</span>)</span><br><span class="line">    <span class="keyword">for</span>(letter <span class="keyword">in</span> b) print(<span class="string">"<span class="variable">$letter</span>\t"</span>)</span><br><span class="line">    println()</span><br><span class="line"></span><br><span class="line">    <span class="comment">//原始字符串</span></span><br><span class="line">    println(<span class="string">"=====原始字符串====="</span>)</span><br><span class="line">    <span class="keyword">val</span> raw = <span class="string">"""Hello</span></span><br><span class="line"><span class="string">"test"</span></span><br><span class="line"><span class="string">world"""</span></span><br><span class="line"><span class="string">    println(raw)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    //字符串模板</span></span><br><span class="line"><span class="string">    println("=====字符串模板=====")</span></span><br><span class="line"><span class="string">    val c = 123.0</span></span><br><span class="line"><span class="string">    val d = "c = <span class="variable">$c</span>, price = <span class="subst">$&#123;<span class="string">'$'</span>&#125;</span><span class="subst">$&#123;c/<span class="number">10</span>&#125;</span>"</span></span><br><span class="line"><span class="string">    println(d)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    //range</span></span><br><span class="line"><span class="string">    println("=====range=====")</span></span><br><span class="line"><span class="string">    val e = "<span class="subst">$&#123;(<span class="number">10</span> downTo <span class="number">1</span>).toList().map &#123; it.toString().toList() &#125;</span>.joinToString()&#125;"</span></span><br><span class="line"><span class="string">    println(e)</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="2-控制流"><a href="#2-控制流" class="headerlink" title="2. 控制流"></a>2. 控制流</h2><h3 id="2-1-Nullability"><a href="#2-1-Nullability" class="headerlink" title="2.1 Nullability"></a>2.1 Nullability</h3><p>在kotlin中<code>var x:String = null</code>是不允许的，因为它要求<code>x</code>不能为空。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fun main(args: Array&lt;String&gt;)&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>对于上面的<code>args</code>表示的是由不能为空的<code>String</code>组成的不能为空的<code>Array</code>。</p>
<p>如果为null该怎么办，在类型名后添加<code>?</code>。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    nullability()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">nullability</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> y:String? = <span class="literal">null</span></span><br><span class="line">    <span class="comment">//下面的是错误的</span></span><br><span class="line">    <span class="comment">//println(y.length)</span></span><br><span class="line">    <span class="keyword">var</span> len: <span class="built_in">Int</span>? = y?.length</span><br><span class="line">    println(len)</span><br><span class="line">    <span class="comment">//或者这样返回-1，其中?:类似else，也就是说如果y是Null，就返回-1</span></span><br><span class="line">    <span class="keyword">var</span> len2:<span class="built_in">Int</span> = y?.length ?: -<span class="number">1</span></span><br><span class="line">    println(len2)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//注意：1.系统库其实自动添加了null 检查，比如 System.out.println，其实是System?.out?.println</span></span><br><span class="line">    <span class="comment">//关闭null检查：y!!.length 如果此时y为null会抛出异常</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-2-If-语句"><a href="#2-2-If-语句" class="headerlink" title="2.2 If 语句"></a>2.2 If 语句</h3><p>第一种是 <code>? :</code>形式<br>if语句直接返回值。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    if_statement()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">if_statement</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">//? :</span></span><br><span class="line">    <span class="keyword">val</span> temp = <span class="number">20</span></span><br><span class="line">    <span class="keyword">val</span> feel = <span class="keyword">if</span> (temp &lt; <span class="number">10</span>)</span><br><span class="line">        <span class="string">"cold"</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (temp &gt; <span class="number">20</span>)</span><br><span class="line">        <span class="string">"warm"</span></span><br><span class="line">    <span class="keyword">else</span> <span class="string">"ok"</span></span><br><span class="line"></span><br><span class="line">    println(<span class="string">"it feels <span class="variable">$feel</span> outside"</span>)</span><br><span class="line">    println(<span class="string">"it is <span class="subst">$&#123;if(temp &gt; <span class="number">20</span>) <span class="string">"warm"</span> else <span class="string">"ok"</span>&#125;</span> today"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-3-根据循环自动类型转换-Flow-Based-Typing"><a href="#2-3-根据循环自动类型转换-Flow-Based-Typing" class="headerlink" title="2.3 根据循环自动类型转换(Flow-Based Typing)"></a>2.3 根据循环自动类型转换(Flow-Based Typing)</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">flow_based_typing</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> s:String? = <span class="string">"hjkh"</span></span><br><span class="line">    <span class="keyword">if</span>(s!=<span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="comment">//不需要s?.length</span></span><br><span class="line">        println(s.length)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> x: Cloneable = intArrayOf(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">    <span class="keyword">if</span> (x <span class="keyword">is</span> IntArray)&#123;</span><br><span class="line">        <span class="comment">//不需要(x as IntArray).size</span></span><br><span class="line">        println(x.size)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-4-for遍历-for-Iteration"><a href="#2-4-for遍历-for-Iteration" class="headerlink" title="2.4 for遍历(for Iteration)"></a>2.4 for遍历(for Iteration)</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">for_loop</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//普通for循环</span></span><br><span class="line">    <span class="keyword">for</span> (a <span class="keyword">in</span> (<span class="number">10</span> downTo <span class="number">1</span>)) print(<span class="string">"<span class="variable">$a</span>\t"</span>)</span><br><span class="line">    println()</span><br><span class="line"></span><br><span class="line">    <span class="comment">//数组for循环</span></span><br><span class="line">    <span class="keyword">val</span> ints = intArrayOf(<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">for</span>((index, value) <span class="keyword">in</span> ints.withIndex())&#123;</span><br><span class="line">        println(<span class="string">"<span class="variable">$index</span>:\t<span class="variable">$value</span>"</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//字典for循环</span></span><br><span class="line">    <span class="keyword">val</span> capitals = mapOf(<span class="string">"Paris"</span> to <span class="string">"France"</span>, <span class="string">"London"</span> to <span class="string">"UK"</span>)</span><br><span class="line">    <span class="keyword">for</span> ((capital, country) <span class="keyword">in</span> capitals)&#123;</span><br><span class="line">        println(<span class="string">"<span class="subst">$&#123;country&#125;</span>'s capital is <span class="variable">$capital</span>"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-5-when表达式"><a href="#2-5-when表达式" class="headerlink" title="2.5 when表达式"></a>2.5 when表达式</h3><h2 id="3-函数"><a href="#3-函数" class="headerlink" title="3. 函数"></a>3. 函数</h2><h3 id="3-1-顶层函数-Top-Level-Function"><a href="#3-1-顶层函数-Top-Level-Function" class="headerlink" title="3.1 顶层函数(Top-Level Function)"></a>3.1 顶层函数(Top-Level Function)</h3><p>谈论顶层函数之前需要先讨论package，如果没有指定package，就会放到默认包中。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> KotlinSamples.Functions</span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">say_hello</span><span class="params">()</span></span>&#123;</span><br><span class="line">    println(<span class="string">"Hello"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> KotlinSamples.Functions.*</span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    say_hello()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-2-返回类型和参数-Return-Types-and-Arguments"><a href="#3-2-返回类型和参数-Return-Types-and-Arguments" class="headerlink" title="3.2 返回类型和参数(Return Types and Arguments)"></a>3.2 返回类型和参数(Return Types and Arguments)</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    println(<span class="string">"4*3 is <span class="subst">$&#123;triple(<span class="number">4</span>)&#125;</span>"</span>)</span><br><span class="line">    println(<span class="string">"4*4 is <span class="subst">$&#123;sqr(<span class="number">4</span>)&#125;</span>"</span>)</span><br><span class="line">    println(<span class="string">"pay <span class="subst">$&#123;calculate_wages(<span class="number">160</span>)&#125;</span>"</span>)</span><br><span class="line">    <span class="comment">//命名参数</span></span><br><span class="line">    println(<span class="string">"pay <span class="subst">$&#123;calculate_wages(hourly_rate = <span class="number">20.0</span>)&#125;</span>"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">triple</span><span class="params">(x:<span class="type">Int</span>)</span></span>: <span class="built_in">Int</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x*<span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">sqr</span><span class="params">(x:<span class="type">Int</span>)</span></span> = x * x</span><br><span class="line"></span><br><span class="line"><span class="comment">//默认参数</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">calculate_wages</span><span class="params">(hours:<span class="type">Int</span> = <span class="number">160</span>, hourly_rate:<span class="type">Double</span> = <span class="number">100.0</span>)</span></span>: <span class="built_in">Double</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> hours*hourly_rate</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-3-可变长参数函数-Variable-Argument-Functions"><a href="#3-3-可变长参数函数-Variable-Argument-Functions" class="headerlink" title="3.3 可变长参数函数(Variable-Argument Functions)"></a>3.3 可变长参数函数(Variable-Argument Functions)</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    println(<span class="string">"result is <span class="subst">$&#123;sum_up(<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>)&#125;</span>"</span>)</span><br><span class="line">    println(<span class="string">"result is <span class="subst">$&#123;sum_up2(<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)&#125;</span>"</span>)</span><br><span class="line">    <span class="comment">//解包操作</span></span><br><span class="line">    <span class="keyword">val</span> stuff = intArrayOf(<span class="number">1</span>,<span class="number">2</span> ,<span class="number">3</span>)</span><br><span class="line">    println(sum_up(<span class="number">3</span>, <span class="number">5</span>, *stuff, <span class="number">1</span>, <span class="number">9</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//可变长参数</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">sum_up</span><span class="params">(<span class="keyword">vararg</span> values:<span class="type">Int</span>)</span></span>:<span class="built_in">Int</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (v <span class="keyword">in</span> values)&#123;</span><br><span class="line">        result += v</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//函数式的解法</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">sum_up2</span><span class="params">(<span class="keyword">vararg</span> values:<span class="type">Int</span>)</span></span>:<span class="built_in">Int</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> values.sum()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-4-内签函数-Local-a-k-a-Nested-or-Inner-Functions"><a href="#3-4-内签函数-Local-a-k-a-Nested-or-Inner-Functions" class="headerlink" title="3.4 内签函数(Local a.k.a. Nested or Inner Functions)"></a>3.4 内签函数(Local a.k.a. Nested or Inner Functions)</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="comment">//解包赋值</span></span><br><span class="line">    <span class="keyword">val</span> (x1, x2) = solve_quadratic_equation(<span class="number">1.0</span>, <span class="number">10.0</span>, <span class="number">16.0</span>)</span><br><span class="line">    println(<span class="string">"x1 = <span class="variable">$x1</span>, x2 = <span class="variable">$x2</span>"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">solve_quadratic_equation</span><span class="params">(a:<span class="type">Double</span>, b:<span class="type">Double</span>, c:<span class="type">Double</span>)</span></span>: Pair&lt;<span class="built_in">Double</span>, <span class="built_in">Double</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">calculate_discriminant</span><span class="params">()</span></span>: <span class="built_in">Double</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> b*b - <span class="number">4</span>*a*c</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">val</span> root_disc = Math.sqrt(calculate_discriminant())</span><br><span class="line">    <span class="keyword">return</span> Pair((-b+root_disc)/(<span class="number">2</span>*a), (-b-root_disc)/(<span class="number">2</span>*a))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-5-扩展函数和扩展属性-Extension-Functions-and-Properties"><a href="#3-5-扩展函数和扩展属性-Extension-Functions-and-Properties" class="headerlink" title="3.5 扩展函数和扩展属性(Extension Functions and Properties)"></a>3.5 扩展函数和扩展属性(Extension Functions and Properties)</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    extension_functions()</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//扩展函数</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> ArrayList<span class="type">&lt;T&gt;</span>.<span class="title">swap</span><span class="params">(index1:<span class="type">Int</span>, index2:<span class="type">Int</span>)</span></span>&#123;</span><br><span class="line">    <span class="comment">//this指向实例</span></span><br><span class="line">    <span class="keyword">val</span> temp = <span class="keyword">this</span>[index1]</span><br><span class="line">    <span class="keyword">this</span>[index1] = <span class="keyword">this</span>[index2]</span><br><span class="line">    <span class="keyword">this</span>[index2] = temp</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//给所有的对象添加函数，用Any?</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> Any?.<span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( <span class="keyword">this</span> == <span class="literal">null</span>) println(<span class="string">"Object is null"</span>)</span><br><span class="line">    <span class="keyword">else</span> println(<span class="string">"Object is <span class="subst">$&#123;this.toString()&#125;</span>"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//扩展函数</span></span><br><span class="line"><span class="keyword">val</span> String?.empty: <span class="built_in">Boolean</span></span><br><span class="line">    <span class="keyword">get</span>() = (<span class="keyword">this</span> == <span class="literal">null</span> || <span class="keyword">this</span>.length == <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">extension_functions</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">val</span> mylist = arrayListOf(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">    <span class="comment">//调用扩展函数</span></span><br><span class="line">    mylist.swap(<span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line">    println(mylist)</span><br><span class="line">    mylist.print()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> s:String? = <span class="literal">null</span></span><br><span class="line">    s.print()</span><br><span class="line">    <span class="comment">//调用扩展属性</span></span><br><span class="line">    println(s.empty)</span><br><span class="line">    println(<span class="string">""</span>.empty)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-6-中缀函数-Infix-Functions"><a href="#3-6-中缀函数-Infix-Functions" class="headerlink" title="3.6 中缀函数(Infix Functions)"></a>3.6 中缀函数(Infix Functions)</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    infix_functions()</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//定义中缀函数</span></span><br><span class="line"><span class="keyword">infix</span> <span class="function"><span class="keyword">fun</span> <span class="built_in">Double</span>.<span class="title">averageWith</span><span class="params">(other: <span class="type">Double</span>)</span></span>:<span class="built_in">Double</span>&#123;</span><br><span class="line">    <span class="comment">//this是左边的运算符</span></span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">this</span> + other) / <span class="number">2.0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">infix_functions</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">val</span> x = <span class="string">'z'</span> downTo <span class="string">'a'</span></span><br><span class="line">    <span class="keyword">for</span>(a <span class="keyword">in</span> x) print(<span class="string">"<span class="variable">$a</span>\t"</span>)</span><br><span class="line">    println()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> capitals = mapOf(<span class="string">"Paris"</span> to <span class="string">"France"</span>, <span class="string">"London"</span> to <span class="string">"UK"</span>)</span><br><span class="line">    <span class="keyword">for</span>((key, value) <span class="keyword">in</span> capitals)</span><br><span class="line">        println(<span class="string">"<span class="variable">$key</span>\t<span class="variable">$value</span>"</span>)</span><br><span class="line">    println()</span><br><span class="line"></span><br><span class="line">    <span class="comment">//调用中缀函数</span></span><br><span class="line">    <span class="keyword">val</span> a = <span class="number">3.0</span></span><br><span class="line">    <span class="keyword">val</span> b = <span class="number">10.0</span></span><br><span class="line">    println(<span class="string">"The average of <span class="variable">$a</span> and <span class="variable">$b</span> is <span class="subst">$&#123;a averageWith b&#125;</span>"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-Lambda函数"><a href="#4-Lambda函数" class="headerlink" title="4 Lambda函数"></a>4 Lambda函数</h2><h3 id="4-1-Lambda函数"><a href="#4-1-Lambda函数" class="headerlink" title="4.1 Lambda函数"></a>4.1 Lambda函数</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> KotlinSamples.Lambda</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> product = &#123;x:<span class="built_in">Int</span>, y:<span class="built_in">Int</span> -&gt; x * y&#125;</span><br><span class="line">    println(<span class="string">"<span class="subst">$&#123;product(<span class="number">2</span>, <span class="number">3</span>)&#125;</span>"</span>)</span><br><span class="line">    <span class="comment">//可以把签名放在前面</span></span><br><span class="line">    <span class="keyword">val</span> product2:(<span class="built_in">Int</span>, <span class="built_in">Int</span>)-&gt;<span class="built_in">Int</span> = &#123;x, y -&gt; x* y&#125;</span><br><span class="line">    println(<span class="string">"<span class="subst">$&#123;product2(<span class="number">4</span>, <span class="number">6</span>)&#125;</span>"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//lambda作为参数</span></span><br><span class="line">    <span class="keyword">val</span> numbers = listOf(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">    <span class="keyword">val</span> n = numbers.count &#123; it &gt; <span class="number">2</span> &#125; <span class="comment">//等价于number.count(&#123;x-&gt;x&gt;2&#125;)</span></span><br><span class="line">    println(n)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//闭包,kotlin中允许在lambda中修改外界的值</span></span><br><span class="line">    <span class="keyword">var</span> sum = <span class="number">0</span></span><br><span class="line">    numbers.forEach &#123; sum += it &#125;</span><br><span class="line">    println(<span class="string">"sum of <span class="variable">$numbers</span> is <span class="variable">$sum</span>"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-2-高阶函数"><a href="#4-2-高阶函数" class="headerlink" title="4.2 高阶函数"></a>4.2 高阶函数</h3><p>高阶函数是含有函数作为参数的函数，或者是返回值是函数的函数。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> numbers = listOf(<span class="number">7</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">    <span class="keyword">val</span> maxvalue = max(numbers) &#123;x, y -&gt; x &lt; y&#125;</span><br><span class="line">    println(maxvalue)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> <span class="title">max</span><span class="params">(collection: <span class="type">Collection</span>&lt;<span class="type">T</span>&gt;, less:(<span class="type">T</span>, <span class="type">T</span>)-&gt;<span class="type">Boolean</span>)</span></span>: T?&#123;</span><br><span class="line">    <span class="keyword">var</span> max:T? = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">for</span>(x <span class="keyword">in</span> collection)&#123;</span><br><span class="line">        <span class="keyword">if</span> (max == <span class="literal">null</span> || less(max, x))</span><br><span class="line">            max = x</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-3-带接受者的函数类型"><a href="#4-3-带接受者的函数类型" class="headerlink" title="4.3 带接受者的函数类型"></a>4.3 带接受者的函数类型</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="comment">//Function type with receiver</span></span><br><span class="line">    <span class="comment">//类似扩展函数,但是只能作用于局部,而且这个函数是个lambda表达式,被存储在变量中</span></span><br><span class="line">    fun_type_with_recevier()</span><br><span class="line">    <span class="comment">//由于increaseBy是局部变量,因此下面的代码无法执行</span></span><br><span class="line">    <span class="comment">//var y = 2</span></span><br><span class="line">    <span class="comment">//y.increaseBy(10)</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">fun_type_with_recevier</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//声明形式类似扩展函数,但是返回到变量中</span></span><br><span class="line">    <span class="keyword">val</span> increaseBy = <span class="function"><span class="keyword">fun</span> <span class="built_in">Int</span>.<span class="params">(value:<span class="type">Int</span>)</span></span> = <span class="keyword">this</span> + value</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">1</span></span><br><span class="line">    println(<span class="string">"<span class="variable">$x</span> + 3 = <span class="subst">$&#123;x.increaseBy(<span class="number">3</span>)&#125;</span>"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-4-Functors"><a href="#4-4-Functors" class="headerlink" title="4.4 Functors"></a>4.4 Functors</h3><p>不知道为什么，一直报错：Error:(10, 15) Kotlin: operator modifier is required on ‘invoke’ in ‘Average’</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Average</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">fun</span> <span class="title">invoke</span><span class="params">(<span class="keyword">vararg</span> values: <span class="type">Double</span>)</span></span>:<span class="built_in">Double</span>&#123;</span><br><span class="line">        <span class="keyword">val</span> sum = values.sum()</span><br><span class="line">        <span class="keyword">return</span> sum/values.size</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> a = Average()</span><br><span class="line">    <span class="comment">//functor</span></span><br><span class="line">    <span class="keyword">val</span> avg = a(<span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">3.0</span>)</span><br><span class="line">    println(avg)</span><br><span class="line"><span class="comment">//    fun String.invoke():String&#123;</span></span><br><span class="line"><span class="comment">//        return "("+this+")"</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    val str = "hello"</span></span><br><span class="line"><span class="comment">//    println("$&#123;str()&#125;")</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-类"><a href="#5-类" class="headerlink" title="5 类"></a>5 类</h2><h3 id="5-1-属性-property"><a href="#5-1-属性-property" class="headerlink" title="5.1 属性(property)"></a>5.1 属性(property)</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">lateinit</span> <span class="keyword">var</span> name:String <span class="comment">//如果不初始化,需要加lateinit</span></span><br><span class="line">    <span class="keyword">var</span> age:<span class="built_in">Int</span> = -<span class="number">1</span></span><br><span class="line">    <span class="keyword">val</span> canVote:<span class="built_in">Boolean</span></span><br><span class="line">        <span class="keyword">get</span>() = age &gt; <span class="number">16</span></span><br><span class="line">    <span class="keyword">var</span> ssn = <span class="string">"00000"</span></span><br><span class="line">        <span class="keyword">get</span>() = field</span><br><span class="line">        <span class="keyword">set</span>(value) &#123;</span><br><span class="line">            println(<span class="string">"<span class="variable">$name</span>'s ssn is changed to <span class="variable">$value</span>"</span>)</span><br><span class="line">            field = value</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> me = Person()</span><br><span class="line">    me.name = <span class="string">"lixiang"</span></span><br><span class="line">    me.age = <span class="number">28</span></span><br><span class="line">    println(<span class="string">"<span class="subst">$&#123;me.name&#125;</span> can <span class="subst">$&#123;if (!me.canVote) <span class="string">"not "</span> else <span class="string">""</span>&#125;</span>vote"</span>)</span><br><span class="line">    me.ssn = <span class="string">"123456"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-2-构造函数和初始化"><a href="#5-2-构造函数和初始化" class="headerlink" title="5.2 构造函数和初始化"></a>5.2 构造函数和初始化</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//注意,class的构造中需要给参数带上var或者val才是添加属性</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Human</span></span>(<span class="keyword">var</span> name:String, <span class="keyword">val</span> age:<span class="built_in">Int</span>)&#123;</span><br><span class="line">    <span class="comment">//初始化</span></span><br><span class="line">    <span class="keyword">init</span>&#123;</span><br><span class="line">        println(<span class="string">"<span class="variable">$name</span> is <span class="variable">$age</span>"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> me = Human(<span class="string">"Lixiang"</span>, <span class="number">28</span>)</span><br><span class="line">    println(<span class="string">"My name is <span class="subst">$&#123;me.name&#125;</span>, and my age is <span class="subst">$&#123;me.age&#125;</span>"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-3-委托属性-Delegated-Properties"><a href="#5-3-委托属性-Delegated-Properties" class="headerlink" title="5.3 委托属性(Delegated Properties)"></a>5.3 委托属性(Delegated Properties)</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> KotlinSample.demo3</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> kotlin.properties.Delegates</span><br><span class="line"><span class="keyword">import</span> kotlin.reflect.KProperty</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Delegate</span></span>&#123;</span><br><span class="line">    <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">getValue</span><span class="params">(thisRef:<span class="type">Any</span>?, property: <span class="type">KProperty</span>&lt;*&gt;)</span></span>:String&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"<span class="variable">$thisRef</span>, thank you for delegating '<span class="subst">$&#123;property.name&#125;</span>' to me!"</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">setValue</span><span class="params">(thisRef: <span class="type">Any</span>?, property: <span class="type">KProperty</span>&lt;*&gt;, value:<span class="type">String</span>)</span></span>&#123;</span><br><span class="line">        println(<span class="string">"<span class="variable">$value</span> has been assigned to '<span class="subst">$&#123;property.name&#125;</span>' in <span class="variable">$thisRef</span>"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="comment">//委托</span></span><br><span class="line">    <span class="keyword">var</span> name: String <span class="keyword">by</span> Delegate()</span><br><span class="line">    <span class="comment">//委托的一种用法,惰性</span></span><br><span class="line">    <span class="keyword">val</span> lazyValue: String <span class="keyword">by</span> lazy &#123;</span><br><span class="line">        println(<span class="string">"lazyValue初始化"</span>)</span><br><span class="line">        <span class="string">"test"</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//委托的用法,通知,其中"John"是初始值</span></span><br><span class="line">    <span class="keyword">var</span> othername: String <span class="keyword">by</span> Delegates.observable(<span class="string">"John"</span>) &#123;</span><br><span class="line">        prop, old, new -&gt; println(<span class="string">"<span class="subst">$&#123;prop.name&#125;</span> <span class="variable">$old</span> -&gt; <span class="variable">$new</span>"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> p = Person()</span><br><span class="line">    p.name = <span class="string">"Lixiang"</span></span><br><span class="line">    <span class="keyword">val</span> s = p.name</span><br><span class="line">    println(s)</span><br><span class="line">    <span class="comment">//只求一次值</span></span><br><span class="line">    println(p.lazyValue)</span><br><span class="line">    println(p.lazyValue)</span><br><span class="line">    println(p.lazyValue)</span><br><span class="line">    p.othername = <span class="string">"Jack"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-4-数据类-Data-Classes"><a href="#5-4-数据类-Data-Classes" class="headerlink" title="5.4 数据类(Data Classes)"></a>5.4 数据类(Data Classes)</h3><p>数据类主要用来存储数据</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> KotlinSample.demo4</span><br><span class="line"></span><br><span class="line"><span class="comment">//data class用来保存数据,他有以下几种方法</span></span><br><span class="line"><span class="comment">//equals()/hashCode()</span></span><br><span class="line"><span class="comment">//toString()</span></span><br><span class="line"><span class="comment">//copy() 深拷贝</span></span><br><span class="line"><span class="comment">//destructuring 解包操作</span></span><br><span class="line"><span class="keyword">data</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span></span>(<span class="keyword">val</span> name:String, <span class="keyword">val</span> age: <span class="built_in">Int</span>)&#123;</span><br><span class="line">    <span class="comment">//你也可以重写</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">toString</span><span class="params">()</span></span>: String&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"My name is <span class="variable">$name</span>, age is <span class="variable">$age</span>"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> a = User(<span class="string">"Lixiang"</span>, <span class="number">20</span>)</span><br><span class="line">    println(a)</span><br><span class="line">    <span class="keyword">val</span> b = User(<span class="string">"Lixiang"</span>, <span class="number">20</span>)</span><br><span class="line">    println(a == b)</span><br><span class="line">    println(a === b)</span><br><span class="line">    <span class="keyword">val</span> c = a.copy()</span><br><span class="line">    println(c == a)</span><br><span class="line">    println(c ===a)</span><br><span class="line">    <span class="comment">//解包</span></span><br><span class="line">    <span class="keyword">val</span> (name, age) = c</span><br><span class="line">    println(<span class="string">"<span class="variable">$name</span>, <span class="variable">$age</span>"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-5-单例-Singleton"><a href="#5-5-单例-Singleton" class="headerlink" title="5.5 单例(Singleton)"></a>5.5 单例(Singleton)</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> KotlinSample.demo5</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PointFactory</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">NewCartersianPoint</span><span class="params">(x:<span class="type">Double</span>, y:<span class="type">Double</span>)</span></span>: Point&#123;</span><br><span class="line">        <span class="keyword">return</span> Point(x, y)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">NewPolarPoint</span><span class="params">(rho: <span class="type">Double</span>, theta: <span class="type">Double</span>)</span></span>: Point&#123;</span><br><span class="line">        <span class="keyword">return</span> Point(rho*Math.cos(theta), rho*Math.sin(theta))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span></span>(<span class="keyword">val</span> x: <span class="built_in">Double</span>, <span class="keyword">val</span> y: <span class="built_in">Double</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> pf = PointFactory()</span><br><span class="line">    <span class="keyword">var</span> point = pf.NewPolarPoint(<span class="number">3.0</span>, Math.PI/<span class="number">2</span>)</span><br><span class="line">    print(<span class="string">"<span class="subst">$&#123;point.x&#125;</span> <span class="subst">$&#123;point.y&#125;</span>"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-6-伴随对象-Companion-Objects"><a href="#5-6-伴随对象-Companion-Objects" class="headerlink" title="5.6 伴随对象(Companion Objects)"></a>5.6 伴随对象(Companion Objects)</h3><p>Kotlin中没有静态方法，使用伴随对象来实现类似静态方法的效果</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> KotlinSample.demo6</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">IFactory</span>&lt;<span class="type">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">create</span><span class="params">()</span></span>: T</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//注意,伴随对象并不是真正的static的</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span></span>(<span class="keyword">var</span> x: <span class="built_in">Double</span>, <span class="keyword">var</span> y: <span class="built_in">Double</span>)&#123;</span><br><span class="line">    <span class="comment">//伴随对象,使用companion object修饰,其中Factory可以注释掉,也就是下面的代码也是可用的:</span></span><br><span class="line">    <span class="comment">//companion object &#123;</span></span><br><span class="line">    <span class="comment">//伴随对象还能实现接口</span></span><br><span class="line">    <span class="keyword">companion</span> <span class="keyword">object</span> <span class="comment">/*Factory*/</span> : IFactory&lt;Point&gt;&#123;</span><br><span class="line">        <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">create</span><span class="params">()</span></span>: Point &#123;</span><br><span class="line">            <span class="keyword">return</span> Point(<span class="number">0.0</span>, <span class="number">0.0</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">fun</span> <span class="title">createCarterian</span><span class="params">(x: <span class="type">Double</span>, y: <span class="type">Double</span>)</span></span>: Point = Point(x, y)</span><br><span class="line">        <span class="function"><span class="keyword">fun</span> <span class="title">createPolar</span><span class="params">(x: <span class="type">Double</span>, y: <span class="type">Double</span>)</span></span>: Point = Point(x, y)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> simplePoint = Point(<span class="number">1.0</span>, <span class="number">2.0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//var factoryPoint = Point.Factory.createCarterian(1.0, 2.0)</span></span><br><span class="line">    <span class="comment">//类似静态方法的调用</span></span><br><span class="line">    <span class="keyword">var</span> factoryPoint2 = Point.createPolar(<span class="number">1.0</span>, <span class="number">2.0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> defaultPoint = Point.create()</span><br><span class="line">    <span class="comment">//或者如果没有给伴随对象起名字,也可以用下面这个方法</span></span><br><span class="line">    <span class="keyword">var</span> defaultPoint2 = Point.Companion.create()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-7-继承-Inheritance"><a href="#5-7-继承-Inheritance" class="headerlink" title="5.7 继承(Inheritance)"></a>5.7 继承(Inheritance)</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//只有open的class才能被继承</span></span><br><span class="line"><span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>(<span class="keyword">val</span> name: String)&#123;</span><br><span class="line">    <span class="comment">//同样只有open方法才能被overwrite</span></span><br><span class="line">    <span class="keyword">open</span> <span class="function"><span class="keyword">fun</span> <span class="title">talk</span><span class="params">()</span></span>&#123;</span><br><span class="line">        println(<span class="string">"I'm <span class="variable">$name</span>"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//父类已经有了name,所以不能再给这里的name添加val/var</span></span><br><span class="line"><span class="comment">//Person有构造方法,因此必须对其进行调用</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Manager</span></span>(name: String, <span class="keyword">var</span> subordinates: List&lt;Person&gt;) : Person(name)&#123;</span><br><span class="line">    <span class="comment">//重写方法</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">talk</span><span class="params">()</span></span>&#123;</span><br><span class="line">        println(<span class="string">"I'm <span class="variable">$name</span>, I have <span class="subst">$&#123;subordinates.size&#125;</span> subordinates"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> lixiang = Person(<span class="string">"理想"</span>)</span><br><span class="line">    lixiang.talk()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> boss = Manager(<span class="string">"龙"</span>, listOf(lixiang))</span><br><span class="line">    boss.talk()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-8-接口-Interfaces"><a href="#5-8-接口-Interfaces" class="headerlink" title="5.8 接口(Interfaces)"></a>5.8 接口(Interfaces)</h3><h3 id="5-9-类委托-Class-Delegation"><a href="#5-9-类委托-Class-Delegation" class="headerlink" title="5.9 类委托(Class Delegation)"></a>5.9 类委托(Class Delegation)</h3><hr>
<h2 id="6-其他"><a href="#6-其他" class="headerlink" title="6 其他"></a>6 其他</h2><h3 id="6-1-枚举-Enumerations"><a href="#6-1-枚举-Enumerations" class="headerlink" title="6.1 枚举(Enumerations)"></a>6.1 枚举(Enumerations)</h3><h3 id="6-2-异常-Exceptions"><a href="#6-2-异常-Exceptions" class="headerlink" title="6.2 异常(Exceptions)"></a>6.2 异常(Exceptions)</h3><h3 id="6-3-操作符重载-Operator-Overloads"><a href="#6-3-操作符重载-Operator-Overloads" class="headerlink" title="6.3 操作符重载(Operator Overloads)"></a>6.3 操作符重载(Operator Overloads)</h3><h3 id="6-4-Type-Safe-Builders"><a href="#6-4-Type-Safe-Builders" class="headerlink" title="6.4 Type-Safe Builders"></a>6.4 Type-Safe Builders</h3>
    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div>Buy me a coffee</div>
  <button>
    Donate
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/me/wechatpay.png" alt="Liu Lixiang WeChat Pay">
        <span>WeChat Pay</span>
      </div>

  </div>
</div>

          <div class="post-tags">
              <a href="/tags/Kotlin-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="tag"># Kotlin,学习笔记</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2016/01/01/Db-MySQL%E5%B8%B8%E7%94%A8/" rel="prev" title="MySQL常用">
                  <i class="fa fa-angle-left"></i> MySQL常用
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2016/04/30/spring%E5%9F%BA%E7%A1%80/" rel="next" title="Spring Boot学习笔记">
                  Spring Boot学习笔记 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments gitalk-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Liu Lixiang</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script>

  






  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous">

<script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"liulixiang1988","repo":"liulixiang1988.github.io","client_id":"989434836f2531f84f64","client_secret":"ebc11cd18d9234f4902824f90312bdc1fdc5a9b2","admin_user":"liulixiang1988","distraction_free_mode":true,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":null,"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.min.js","integrity":"sha256-MVK9MGD/XJaGyIghSVrONSnoXoGh3IFxLw0zfvzpxR4="},"path_md5":"4736b8583610e32a4521600ceb52d928"}</script>
<script src="/js/third-party/comments/gitalk.js"></script>

</body>
</html>
